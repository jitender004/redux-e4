{"ast":null,"code":"import _slicedToArray from\"/home/jitu/Desktop/JITENDER_fw14_689/unit-5/sprint-evaluation/rct-211-E4/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{Box,Button,Flex,Radio,RadioGroup,Stack,Table,TableContainer,Tbody,Td,Text,Th,Thead,Tr}from\"@chakra-ui/react\";import React,{useEffect,useState}from\"react\";import{useDispatch,useSelector}from\"react-redux\";import{Link}from\"react-router-dom\";import{getCountries}from\"../Redux/action\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Homepage=function Homepage(){var countries=useSelector(function(state){return state.reducer.countries;});var dispatch=useDispatch();var _useState=useState(countries),_useState2=_slicedToArray(_useState,2),country=_useState2[0],setCountry=_useState2[1];useEffect(function(){if(countries.length===0){dispatch(getCountries());}},[dispatch]);var handleSort=function handleSort(e){var value=e.target.value;if(value===\"asc\"){countries.sort(function(a,b){console.log(\"asc\");return a.population-b.population;});}else if(value===\"desc\"){countries.sort(function(a,b){console.log(\"des\");return b-a;});}};var handleDelete=function handleDelete(id){var newData=countries.filter(function(data){console.log(\"dle\");return data.id!==id;});dispatch(getCountries(newData));};// console.log(countries);\nreturn/*#__PURE__*/_jsxs(Box,{marginTop:\"40px\",children:[/*#__PURE__*/_jsxs(Flex,{padding:\"0 1rem\",mb:\"2rem\",children:[/*#__PURE__*/_jsx(Text,{fontWeight:\"700\",paddingRight:\"1rem\",children:\"Sort by country population\"}),/*#__PURE__*/_jsx(RadioGroup,{children:/*#__PURE__*/_jsxs(Stack,{direction:\"row\",children:[/*#__PURE__*/_jsx(Radio,{\"data-cy\":\"asc\",value:\"asc\",onChange:handleSort,children:\"Ascending\"}),/*#__PURE__*/_jsx(Radio,{\"data-cy\":\"desc\",value:\"desc\",onChange:handleSort,children:\"Descending\"})]})})]}),/*#__PURE__*/_jsx(TableContainer,{children:/*#__PURE__*/_jsxs(Table,{variant:\"simple\",children:[/*#__PURE__*/_jsx(Thead,{children:/*#__PURE__*/_jsxs(Tr,{children:[/*#__PURE__*/_jsx(Th,{children:\"Country\"}),/*#__PURE__*/_jsx(Th,{children:\"Capital\"}),/*#__PURE__*/_jsx(Th,{children:\"Population\"}),/*#__PURE__*/_jsx(Th,{children:\"Edit\"}),/*#__PURE__*/_jsx(Th,{children:\"Delete\"})]})}),/*#__PURE__*/_jsx(Tbody,{\"data-cy\":\"table-body\",children:countries.length>0&&countries.map(function(item){return/*#__PURE__*/_jsxs(Tr,{children:[/*#__PURE__*/_jsx(Td,{children:item.country}),/*#__PURE__*/_jsx(Td,{children:item.city}),/*#__PURE__*/_jsx(Td,{children:item.population}),/*#__PURE__*/_jsx(Td,{children:/*#__PURE__*/_jsxs(Link,{to:\"/country/\".concat(item.id),children:[\" \",/*#__PURE__*/_jsx(Button,{size:\"sm\",colorScheme:\"blue\",children:\"Edit\"})]})}),/*#__PURE__*/_jsx(Td,{children:/*#__PURE__*/_jsx(Button,{size:\"sm\",colorScheme:\"red\",onClick:function onClick(){return handleDelete(item.id);},children:\"Delete\"})})]},item.id);})})]})})]});};export default Homepage;","map":{"version":3,"names":["Box","Button","Flex","Radio","RadioGroup","Stack","Table","TableContainer","Tbody","Td","Text","Th","Thead","Tr","React","useEffect","useState","useDispatch","useSelector","Link","getCountries","Homepage","countries","state","reducer","dispatch","country","setCountry","length","handleSort","e","value","target","sort","a","b","console","log","population","handleDelete","id","newData","filter","data","map","item","city"],"sources":["/home/jitu/Desktop/JITENDER_fw14_689/unit-5/sprint-evaluation/rct-211-E4/src/Pages/Homepage.jsx"],"sourcesContent":["import {\n  Box,\n  Button,\n  Flex,\n  Radio,\n  RadioGroup,\n  Stack,\n  Table,\n  TableContainer,\n  Tbody,\n  Td,\n  Text,\n  Th,\n  Thead,\n  Tr,\n} from \"@chakra-ui/react\";\nimport React, { useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Link } from \"react-router-dom\";\nimport { getCountries } from \"../Redux/action\";\n\nconst Homepage = () => {\n  const countries = useSelector((state) => state.reducer.countries);\n  const dispatch = useDispatch();\n  const [country, setCountry] = useState(countries);\n  useEffect(() => {\n    if (countries.length === 0) {\n      dispatch(getCountries());\n    }\n  }, [dispatch]);\n\n  const handleSort = (e) => {\n    const { value } = e.target;\n    if (value === \"asc\") {\n      countries.sort((a, b) => {\n        console.log(\"asc\");\n        return a.population - b.population;\n      });\n    } else if (value === \"desc\") {\n      countries.sort((a, b) => {\n        console.log(\"des\");\n        return b - a;\n      });\n    }\n  };\n  const handleDelete = (id) => {\n    const newData = countries.filter((data) => {\n      console.log(\"dle\");\n      return data.id !== id;\n    });\n    dispatch(getCountries(newData));\n  }; // console.log(countries);\n  return (\n    <Box marginTop=\"40px\">\n      {/* <Text>DASHBOARD</Text> */}\n      <Flex padding=\"0 1rem\" mb=\"2rem\">\n        <Text fontWeight=\"700\" paddingRight=\"1rem\">\n          Sort by country population\n        </Text>\n        <RadioGroup>\n          <Stack direction=\"row\">\n            <Radio data-cy=\"asc\" value=\"asc\" onChange={handleSort}>\n              Ascending\n            </Radio>\n            <Radio data-cy=\"desc\" value=\"desc\" onChange={handleSort}>\n              Descending\n            </Radio>\n          </Stack>\n        </RadioGroup>\n      </Flex>\n      <TableContainer>\n        <Table variant=\"simple\">\n          <Thead>\n            <Tr>\n              <Th>Country</Th>\n              <Th>Capital</Th>\n              <Th>Population</Th>\n              <Th>Edit</Th>\n              <Th>Delete</Th>\n            </Tr>\n          </Thead>\n          <Tbody data-cy=\"table-body\">\n            {countries.length > 0 &&\n              countries.map((item) => {\n                return (\n                  <Tr key={item.id}>\n                    <Td>{item.country}</Td>\n                    <Td>{item.city}</Td>\n                    <Td>{item.population}</Td>\n                    <Td>\n                      <Link to={`/country/${item.id}`}>\n                        {\" \"}\n                        <Button size=\"sm\" colorScheme=\"blue\">\n                          Edit\n                        </Button>\n                      </Link>\n                    </Td>\n                    <Td>\n                      <Button\n                        size=\"sm\"\n                        colorScheme=\"red\"\n                        onClick={() => handleDelete(item.id)}\n                      >\n                        Delete\n                      </Button>\n                    </Td>\n                  </Tr>\n                );\n              })}\n          </Tbody>\n        </Table>\n      </TableContainer>\n    </Box>\n  );\n};\n\nexport default Homepage;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}